function numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}!function(){"use strict";angular.module("app",["ui.router","ngStorage"]).constant("config",{URL:"http://service.anem.dz:8081",DIST:"/dist",IMAGES:{root:"/dist/images/",categories:"/dist/images/products/categories",projects:"/dist/images/products/projects"},DATA:"api/_search",DOCUMENTS:"/dist/api/documents.json",SLIDES:"/dist/api/slides.json"})}(),function(t){"use strict";function e(t,e,o){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"dist/views/main.html",controller:"controller.main",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"dist/views/about.html",controller:"controller.about",controllerAs:"vm"}).state("contact",{url:"/contact",templateUrl:"dist/views/contact.html",controller:"controller.contact",controllerAs:"vm"})}t.config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(angular.module("app")),function(t){function e(t,e,o,r){function n(o,r){r=r||1;var n=10*(r-1),i=a(o,n);return t.post(e.DATA,i).then(function(t){return t.data.hits.current=r,t.data})}function a(t,e){return data={from:e,size:i.size,query:{bool:{must:{query_string:{query:t,fields:i.fields,default_operator:i.default_operator}},filter:[i.DAIP]}}},JSON.stringify(data)}var i={from:0,size:10,default_operator:"and",fields:["_all"],DAIP:{range:{DateDebutContrat:{gte:"2000-01-01"}}}};return i=r.getData()||i,{getData:n}}t.factory("dataservice",e),e.$inject=["$http","config","$q","storage"]}(angular.module("app")),function(t){"use strict";function e(t,e){function o(){var o=e.defer(),r=t[n];return r?(o.resolve(r),o.promise):null}function r(e){t[n]=e}var n="ReDD";return console.log("localstorage"),{getData:o,saveData:r}}t.factory("storage",e),e.$inject=["$localStorage","$q"]}(angular.module("app")),function(t){"use strict";function e(){}t.component("component.demandeurs",{templateUrl:"views/component.demandeurs.html",controller:e,controllerAs:"vm",bindings:{books:"<",pages:"<"}})}(angular.module("app")),function(t){"use strict";function e(){var t=this;this.getPage=function(e){t.onBtnClick({page:e})},this.getpages=function(e,o){o=Math.floor(t.total/10)+1;var r=[],n=10+10*Math.floor(e/10);n=n<o?n:o;var a=10*Math.floor(e/10);a=a>0?a-1:1;for(var i=a;i<=n;i++)r.push(i<10?"0"+i:i);return r}}t.component("component.pagination",{restrict:"E",templateUrl:"dist/views/component.pagination.html",controller:e,controllerAs:"vm",bindings:{total:"<",current:"<",onBtnClick:"&"}})}(angular.module("app")),function(t){"use strict";function e(t,e,o){function r(t){n.demandeurs.list=t.hits.hits,n.resultStats="About "+numberWithCommas(t.hits.total)+" results ( "+t.took/1e3+" seconds) ",console.log(t.hits),n.pages.total=t.hits.total,n.pages.current=t.hits.current,console.log("Page : ",n.pages)}var n=this;n.pages={},n.resultStats="",n.query="",n.isSimpleSearch=!1,o(function(){n.isSimpleSearch=!0},1e3),n.simpleSearch=function(){console.log("Searche for : "+n.query),t.getData(n.query).then(r)},n.getPage=function(e){console.log("clicked",e),t.getData(n.query,e).then(r)},function(){n.contents=e.DIST,n.demandeurs={list:[]}}()}t.controller("controller.main",e),e.$inject=["dataservice","config","$timeout"]}(angular.module("app"));