function numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}!function(){"use strict";angular.module("app",["ui.router","ngStorage"]).constant("config",{URL:"http://service.anem.dz:8081",DIST:"/dist",IMAGES:{root:"/dist/images/",categories:"/dist/images/products/categories",projects:"/dist/images/products/projects"},DATA:"api/_search",DOCUMENTS:"/dist/api/documents.json",SLIDES:"/dist/api/slides.json"})}(),function(t){"use strict";function e(t,e,o){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"dist/views/main.html",controller:"controller.main",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"dist/views/about.html",controller:"controller.about",controllerAs:"vm"}).state("contact",{url:"/contact",templateUrl:"dist/views/contact.html",controller:"controller.contact",controllerAs:"vm"})}t.config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(angular.module("app")),function(t){function e(t,e,o,n){function r(o,n){n=n||1;var r=(n-1)*i.size,s=a(o,r);return t.post(e.DATA,s).then(function(t){return t.data.hits.current=n,t.data})}function a(t,e){return data={from:e,size:i.size,query:{bool:{must:{query_string:{query:t,fields:i.fields,default_operator:i.default_operator}},filter:[i.DAIP]}}},JSON.stringify(data)}var i={showTopPagination:!1,showBottomPagination:!0,from:0,size:10,default_operator:"and",fields:["_all"],DAIP:{range:{DateDebutContrat:{gte:"2000-01-01"}}}};return i=n.getData()||i,{getData:r,options:i}}t.factory("dataservice",e),e.$inject=["$http","config","$q","storage"]}(angular.module("app")),function(t){"use strict";function e(t,e){function o(){var o=e.defer(),n=t[r];return n?(o.resolve(n),o.promise):null}function n(e){t[r]=e}var r="ReDD";return console.log("localstorage"),{getData:o,saveData:n}}t.factory("storage",e),e.$inject=["$localStorage","$q"]}(angular.module("app")),function(t){"use strict";function e(){}t.component("component.demandeur",{templateUrl:"dist/views/component.demandeur.html",controller:e,controllerAs:"vm",bindings:{demandeur:"<"}})}(angular.module("app")),function(t){"use strict";function e(){}t.component("component.demandeurs",{templateUrl:"dist/views/component.demandeurs.html",controller:e,controllerAs:"vm",bindings:{demandeurs:"<",pages:"<"}})}(angular.module("app")),function(t){"use strict";function e(){var t=this;t.totalPage=0,this.$onInit=function(){t.size=t.size||10,console.log("On    init")},this.getPage=function(e){t.onBtnClick({page:e})},this.getpages=function(e,o){o=Math.floor(t.total/t.size)+1,t.totalPage=numberWithCommas(o);var n=[],r=10+10*Math.floor(e/10);r=r<o?r:o;var a=10*Math.floor(e/10);a=a>0?a-1:1;for(var i=a;i<=r;i++)n.push(i<t.pageSize?"0"+i:i);return n}}t.component("component.pagination",{restrict:"E",templateUrl:"dist/views/component.pagination.html",controller:e,controllerAs:"vm",bindings:{total:"<",current:"<",size:"<",onBtnClick:"&"}})}(angular.module("app")),function(t){"use strict";function e(t,e,o){function n(t){r.demandeurs.list=t.hits.hits,r.resultStats="About "+numberWithCommas(t.hits.total)+" results ( "+t.took/1e3+" seconds) ",console.log(t.hits),r.pages.total=t.hits.total,r.pages.current=t.hits.current,console.log("Page : ",r.pages)}var r=this;r.options=t.options,r.pages={},r.resultStats="",r.query="",r.isSimpleSearch=!1,o(function(){r.isSimpleSearch=!0},1e3),r.simpleSearch=function(){console.log("Searche for : "+r.query),t.getData(r.query).then(n)},r.getPage=function(e){console.log("clicked",e),t.getData(r.query,e).then(n)},function(){r.contents=e.DIST,r.demandeurs={list:[]}}()}t.controller("controller.main",e),e.$inject=["dataservice","config","$timeout"]}(angular.module("app"));